add a bunch of stuff from Robustica as seen in middleware components